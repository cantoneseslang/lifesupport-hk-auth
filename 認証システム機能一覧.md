# LIFESUPPORT(HK)認証システム機能一覧

## 📋 実装済み機能

### 1. 会員登録機能
- **メール認証**: メールアドレス + パスワードで登録
- **Google認証**: Googleアカウントで登録
- **認証メール**: 登録後に自動で認証メールが送信
- **ユーザー情報**: 名前、会社名、部署名、電話番号を保存

### 2. ログイン機能
- **メール認証**: メールアドレス + パスワードでログイン
- **Google認証**: Googleアカウントでログイン
- **セッション管理**: 認証状態の自動管理

### 3. パスワード管理
- **パスワードリセット**: メールアドレスを入力してリセット
- **リセットメール**: パスワードリセット用のメールが送信
- **新パスワード設定**: リセット後、新しいパスワードを設定

### 4. 認証フロー
- **自動リダイレクト**: 認証後、自動でアンケートフォームに移動
- **セッション確認**: 既に認証済みの場合は即座にリダイレクト
- **エラーハンドリング**: 認証失敗時の適切なメッセージ表示

## 🔧 使用方法

### 会員登録の流れ
1. 認証ページで「会員登録」タブをクリック
2. 必要事項を入力：
   - お名前（フルネーム）
   - 会社名
   - 部署名（任意）
   - 電話番号
   - メールアドレス
   - パスワード（8文字以上）
   - パスワード確認
3. 「会員登録」ボタンをクリック
4. **認証メールが送信される**
5. メールの認証リンクをクリック
6. 認証完了後、アンケートフォームにアクセス可能

### ログインの流れ
1. 認証ページで「ログイン」タブをクリック
2. メールアドレスとパスワードを入力
3. 「ログイン」ボタンをクリック
4. 認証成功後、自動でアンケートフォームに移動

### Google認証の流れ
1. 「Googleでログイン」ボタンをクリック
2. Google認証ページでログイン
3. 認証完了後、自動でアンケートフォームに移動

### パスワード忘れた時の流れ
1. ログイン画面で「パスワードを忘れた場合」をクリック
2. メールアドレスを入力
3. 「パスワードリセット」ボタンをクリック
4. **リセットメールが送信される**
5. メールのリセットリンクをクリック
6. 新しいパスワードを設定

## 📧 メール設定

### Supabaseメール設定の確認
1. [Supabase Dashboard](https://supabase.com/dashboard) にアクセス
2. プロジェクト `ihviwvlptzalbrjktddf` を選択
3. **Authentication** → **Email Templates** でメールテンプレートを確認
4. **Authentication** → **Settings** でメール設定を確認

### メールテンプレート
- **Confirm signup**: 会員登録認証メール
- **Reset password**: パスワードリセットメール
- **Magic Link**: マジックリンク認証メール

## 🔍 トラブルシューティング

### よくある問題

#### 1. 認証メールが届かない
- スパムフォルダを確認
- Supabaseのメール設定を確認
- メールアドレスの入力ミスを確認

#### 2. パスワードリセットメールが届かない
- スパムフォルダを確認
- 登録済みのメールアドレスか確認
- Supabaseのメール設定を確認

#### 3. Google認証が動作しない
- SupabaseのGoogle認証設定を確認
- リダイレクトURLの設定を確認

## 📊 セキュリティ機能

### 認証セキュリティ
- **HTTPS**: 全通信が暗号化
- **セッション管理**: 安全なセッション管理
- **パスワード暗号化**: パスワードは暗号化して保存
- **認証トークン**: 安全な認証トークン管理

### データ保護
- **個人情報保護**: 適切な個人情報の取り扱い
- **データ暗号化**: データベースのデータ暗号化
- **アクセス制御**: 認証済みユーザーのみアクセス可能

## 🎯 システムの特徴

### パフォーマンス
- **高速認証**: 即座に認証処理
- **自動リダイレクト**: 認証後、自動でアンケートフォームに移動
- **セッション管理**: 認証状態の自動管理

### ユーザビリティ
- **シンプルなUI**: 分かりやすい認証画面
- **複数の認証方法**: メール認証とGoogle認証
- **エラーメッセージ**: 分かりやすいエラー表示

### コスト
- **完全無料**: GitHub Pages + Supabase無料プラン
- **制限なし**: アクセス制限なし
- **スケーラブル**: 必要に応じて拡張可能

## 📋 まとめ

LIFESUPPORT(HK)認証システムは、以下の機能を提供します：

- ✅ **会員登録**: メール認証とGoogle認証
- ✅ **ログイン**: メール認証とGoogle認証
- ✅ **パスワード管理**: リセット機能
- ✅ **自動リダイレクト**: 認証後、アンケートフォームに移動
- ✅ **セキュリティ**: 安全な認証システム
- ✅ **ユーザビリティ**: 分かりやすい認証フロー

このシステムにより、LIFESUPPORT(HK)の認証システムが完全に動作します。

